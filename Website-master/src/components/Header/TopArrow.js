import React, { useEffect, useRef } from "react"
import styled from "styled-components"

const SVG = styled.svg`
  height: 90px;
  position: fixed;
  top: 85%;
  left: 85%;
  transform: translate(-50%, -50%);
  cursor: pointer;
  display: ${({ show }) => (show ? `block` : `none`)};

  ${({ theme }) => theme.sizes.md} {
    bottom: 2%;
    right: 2%;
    height: 100px;
  }
`
function TopArrow({ show }) {
  const ArrowRef = useRef()
  useEffect(() => {
    const Arrow = ArrowRef.current
    const handleClick = () => {
      document.body.scrollTop = document.documentElement.scrollTop = 0
    }
    Arrow.addEventListener("click", handleClick)
    return () => {
      Arrow.removeEventListener("click", handleClick)
    }
  }, [])
  return (
    <SVG
      ref={ArrowRef}
      show={show}
      viewBox="0 0 425 425"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <circle cx="212" cy="212" r="120" fill="white" />
      <path
        d="M103.569 315.512C130.971 344.352 168.708 361.126 208.477 362.143C248.247 363.16 286.791 348.337 315.632 320.935C344.472 293.533 361.246 255.797 362.263 216.027C363.28 176.258 348.458 137.713 321.056 108.873C293.654 80.0322 255.917 63.2583 216.148 62.2412C176.378 61.224 137.833 76.0469 108.993 103.449C80.1524 130.851 63.3785 168.587 62.3613 208.357C61.3442 248.126 76.167 286.671 103.569 315.512ZM220.022 277.363C220.012 278.608 219.754 279.838 219.263 280.982C218.772 282.126 218.059 283.161 217.164 284.026C216.269 284.891 215.21 285.57 214.05 286.022C212.891 286.473 211.652 286.69 210.408 286.658C209.163 286.626 207.938 286.347 206.802 285.836C205.667 285.326 204.645 284.594 203.795 283.684C202.946 282.774 202.286 281.704 201.854 280.537C201.422 279.369 201.228 278.127 201.281 276.883L204.058 168.307L166.433 204.056C164.63 205.768 162.221 206.695 159.736 206.631C157.25 206.568 154.892 205.519 153.179 203.717C151.466 201.914 150.54 199.505 150.604 197.02C150.667 194.534 151.715 192.176 153.518 190.463L207.55 139.126C209.352 137.413 211.761 136.487 214.247 136.551C216.733 136.614 219.091 137.663 220.804 139.465L272.141 193.497C273.853 195.299 274.78 197.708 274.716 200.194C274.652 202.68 273.604 205.038 271.802 206.751C269.999 208.463 267.59 209.39 265.104 209.326C262.619 209.263 260.26 208.214 258.548 206.412L222.799 168.787L220.022 277.363V277.363Z"
        fill="#353535"
      />
    </SVG>
  )
}

export default TopArrow
